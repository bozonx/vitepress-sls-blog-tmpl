# Канонические ссылки (Canonical Links)

## Описание

Канонические ссылки помогают поисковым системам понять, какая версия страницы является основной, что помогает избежать проблем с дублированным контентом.

## Использование

Чтобы добавить каноническую ссылку на страницу, добавьте параметр `canonical` с URL в frontmatter:

**Формат:**
- `canonical: "https://example.com/en/post/post-slug"` (полный URL)

```yaml
---
title: My Post Title
description: Post description
date: 2024-01-15
canonical: "https://example.com/en/post/post-slug"  # URL канонической страницы
tags:
  - tag1
  - tag2
---
```

## Что происходит

Когда параметр `canonical` установлен с URL:

1. Трансформер `addCanonicalLink` автоматически добавляет тег в head страницы
2. Используется указанный URL как каноническая ссылка
3. Добавляется тег: `<link rel="canonical" href="https://example.com/en/post/post-slug">`

## Примеры

### С канонической ссылкой

```yaml
---
title: 'Как настроить VitePress'
description: 'Пошаговое руководство по настройке VitePress'
date: 2024-01-15
canonical: "https://example.com/en/post/how-to-setup-vitepress"
---
```

Результат в HTML:

```html
<link
  rel="canonical"
  href="https://example.com/en/post/how-to-setup-vitepress"
/>
```

### Без канонической ссылки

```yaml
---
title: 'Обычная страница'
description: 'Страница без канонической ссылки'
date: 2024-01-15
---
```

Результат: каноническая ссылка не добавляется.

## Технические детали

- Трансформер работает только для страниц с языковым префиксом (например, `/en/`, `/ru/`)
- Корневые страницы (`index.md`) пропускаются
- URL должен быть валидным (проверяется автоматически)
- Функция безопасно обрабатывает ошибки и логирует предупреждения
- Каноническая ссылка указывает на указанный URL, а не на текущую страницу

## Когда использовать

Канонические ссылки рекомендуется добавлять для:

- Основных страниц постов
- Страниц с важным контентом
- Страниц, которые могут быть доступны по разным URL
- Страниц, которые вы хотите выделить для поисковых систем
- Страниц с дублированным контентом (указывать на оригинальную страницу)

## Примечания

- Каноническая ссылка указывает на указанный URL
- Это помогает поисковым системам понять, что указанная версия страницы является основной
- Используйте для указания на оригинальную страницу при дублированном контенте
- URL должен быть абсолютным (с протоколом и доменом)
