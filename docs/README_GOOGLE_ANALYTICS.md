# üìä Google Analytics –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Google Analytics –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Å–∞–º—ã–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –ø–æ—Å—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ—Å–µ—â–µ–Ω–∏–π.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üéØ **–£–º–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞** –ø–æ—Å—Ç–æ–≤ –ø–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ GA
- üìà **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏**: –ø—Ä–æ—Å–º–æ—Ç—Ä—ã, —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø—Ä–æ—Å–º–æ—Ç—Ä—ã, –≤—Ä–µ–º—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ, –ø—Ä–æ—Ü–µ–Ω—Ç –æ—Ç–∫–∞–∑–æ–≤
- ‚ö° **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- üîÑ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback** –Ω–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –ø–æ –¥–∞—Ç–µ
- üé® **–í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è GA —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- üì± **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω** —Å –∫—Ä–∞—Å–∏–≤—ã–º–∏ –∏–∫–æ–Ω–∫–∞–º–∏
- üîß **–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞** `googleapis` –æ—Ç Google
- üÜï **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ GA4** –∏ Universal Analytics
- üõ†Ô∏è **–ú–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ** –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
npm install googleapis
```

### 2. –í–∫–ª—é—á–∏—Ç–µ GA –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```javascript
// .vitepress/config.js
export default defineConfig(
  mergeBlogConfig({
    themeConfig: {
      googleAnalytics: {
        enabled: true, // –í–∫–ª—é—á–∏—Ç—å GA
        version: 'ga4', // 'ga4' –∏–ª–∏ 'ua'
        propertyId: 'YOUR_GA4_PROPERTY_ID',
        credentialsPath: './credentials/ga-service-account.json',
        sortBy: 'pageviews', // –ö—Ä–∏—Ç–µ—Ä–∏–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
        cacheHours: 24,
        cacheFilePath: './.cache/ga-stats.json',
        dataPeriodDays: 30,
        useMockData: false, // true –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
      },
    },
  })
)
```

### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Google Analytics API

1. –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –≤ Google Cloud Console
2. –°–∫–∞—á–∞–π—Ç–µ JSON –∫–ª—é—á
3. –î–æ–±–∞–≤—å—Ç–µ email —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –≤ GA —Å –ø—Ä–∞–≤–∞–º–∏ "Viewer"

### 4. –ì–æ—Ç–æ–≤–æ!

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `PopularPostsList` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–Ω–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É GA.

## üìä –ö—Ä–∏—Ç–µ—Ä–∏–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏

| –ö—Ä–∏—Ç–µ—Ä–∏–π          | –û–ø–∏—Å–∞–Ω–∏–µ             | –ò–∫–æ–Ω–∫–∞ | –ü—Ä–∏–º–µ—Ä            |
| ----------------- | -------------------- | ------ | ----------------- |
| `pageviews`       | –û–±—â–∏–µ –ø—Ä–æ—Å–º–æ—Ç—Ä—ã      | üëÅÔ∏è     | 1,234 views       |
| `uniquePageviews` | –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø—Ä–æ—Å–º–æ—Ç—Ä—ã | üë§     | 987 unique views  |
| `avgTimeOnPage`   | –í—Ä–µ–º—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ    | ‚è±Ô∏è     | 5m 23s avg        |
| `bounceRate`      | –ü—Ä–æ—Ü–µ–Ω—Ç –æ—Ç–∫–∞–∑–æ–≤      | üìà     | 23.4% bounce rate |

## üé® –í–∏–∑—É–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

### –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏

```html
<!-- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
<div class="flex items-center text-sm text-gray-500">
  <svg class="animate-spin">...</svg>
  Loading analytics...
</div>
```

### –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä GA

```html
<!-- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ GA –∞–∫—Ç–∏–≤–µ–Ω -->
<div class="text-xs text-green-600 bg-green-50 px-2 py-1 rounded">
  üìä GA Stats
</div>
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ—Å—Ç–∞

```html
<!-- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–¥ –∫–∞–∂–¥—ã–º –ø–æ—Å—Ç–æ–º -->
<div class="ml-4 mt-1 text-xs text-gray-500">üëÅÔ∏è 1,234 views</div>
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è GA

```javascript
googleAnalytics: {
  // –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
  enabled: true,                    // –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å GA
  propertyId: '123456789',         // ID —Å–≤–æ–π—Å—Ç–≤–∞ GA4
  credentialsPath: './ga-key.json', // –ü—É—Ç—å –∫ JSON –∫–ª—é—á—É

  // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
  sortBy: 'pageviews',             // –ö—Ä–∏—Ç–µ—Ä–∏–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏

  // –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
  cacheHours: 24,                  // –í—Ä–µ–º—è –∫—ç—à–∞ –≤ —á–∞—Å–∞—Ö
  cacheFilePath: './.cache/ga.json' // –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –∫—ç—à–∞
}
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# .env
GA_PROPERTY_ID=123456789
GA_CREDENTIALS_PATH=./credentials/ga-service-account.json
GA_CACHE_HOURS=24
```

```javascript
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Ñ–∏–≥–µ
googleAnalytics: {
  enabled: process.env.NODE_ENV === 'production',
  propertyId: process.env.GA_PROPERTY_ID,
  credentialsPath: process.env.GA_CREDENTIALS_PATH,
  cacheHours: parseInt(process.env.GA_CACHE_HOURS) || 24
}
```

## üìö –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

### `googleapis` - –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Google

```bash
npm install googleapis
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- ‚úÖ –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Ç Google
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ GA4 –∏ Universal Analytics
- ‚úÖ TypeScript —Ç–∏–ø—ã
- ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

**–í–µ—Ä—Å–∏—è:** `^144.0.0`

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ú–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –º–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:

```javascript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –µ—Å–ª–∏ GA –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
const mockStats = {
  '/en/post/example-post': {
    pageviews: 1234,
    uniquePageviews: 987,
    avgTimeOnPage: 180,
    bounceRate: 0.23,
  },
}
```

### –û—Ç–ª–∞–¥–∫–∞

```javascript
// –í–∫–ª—é—á–∏—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
console.log('GA Config:', theme.value.googleAnalytics)
console.log('GA Stats:', gaStats.value)
console.log('Popular Posts:', popularPosts.value)
```

## üö® –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏:

1. **GA –æ—Ç–∫–ª—é—á–µ–Ω** ‚Üí –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ
2. **–û—à–∏–±–∫–∞ API** ‚Üí –ü–æ–∫–∞–∑ —Å–æ–æ–±—â–µ–Ω–∏—è + fallback
3. **–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö** ‚Üí –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ
4. **–£—Å—Ç–∞—Ä–µ–≤—à–∏–π –∫—ç—à** ‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
your-blog/
‚îú‚îÄ‚îÄ .vitepress/
‚îÇ   ‚îî‚îÄ‚îÄ config.js                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è GA
‚îú‚îÄ‚îÄ credentials/
‚îÇ   ‚îî‚îÄ‚îÄ ga-service-account.json   # JSON –∫–ª—é—á –æ—Ç Google
‚îú‚îÄ‚îÄ .cache/
‚îÇ   ‚îî‚îÄ‚îÄ ga-stats.json            # –ö—ç—à —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ components/
‚îÇ       ‚îî‚îÄ‚îÄ list/
‚îÇ           ‚îî‚îÄ‚îÄ PopularPostsList.vue  # –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îî‚îÄ‚îÄ docs/
    ‚îî‚îÄ‚îÄ GOOGLE_ANALYTICS_POPULAR_POSTS.md  # –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ **–ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ** JSON –∫–ª—é—á–∏ –≤ Git
- ‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ** –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –ø—Ä–∞–≤–∞** —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞
- ‚úÖ **–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ** –∫–ª—é—á–∏ –¥–æ—Å—Ç—É–ø–∞

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](./docs/GOOGLE_ANALYTICS_POPULAR_POSTS.md)
- [Google Analytics Reporting API](https://developers.google.com/analytics/devguides/reporting/core/v4)
- [Google Cloud Console](https://console.cloud.google.com/)
- [VitePress –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://vitepress.dev/)

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é](./docs/GOOGLE_ANALYTICS_POPULAR_POSTS.md)
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ GA API
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞
4. –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏. –î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Ä–µ–∞–ª—å–Ω–æ–º—É Google Analytics API —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ [–ø–æ–¥—Ä–æ–±–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏](./docs/GOOGLE_ANALYTICS_POPULAR_POSTS.md).
