<template>
  <div class="flex flex-col md:flex-row gap-x-1 items-baseline gap-y-4 mb-7">
    <h1 class="font-bold flex-1 m-0!">
      <slot />
    </h1>

    <div v-if="showPopularPostsSwitch" class="flex items-center gap-1">
      <Btn
        :text="theme.t.links.recent"
        :href="`${props.baseUrl}/1`"
        :icon="theme.recentIcon"
        activeCompareMethod="pagination"
      />
      <Btn
        :text="theme.t.links.popular"
        :href="`${popularBaseUrl}/1`"
        :icon="theme.popularIcon"
        activeCompareMethod="pagination"
      />
    </div>
  </div>
</template>

<script setup>
import { computed } from 'vue'
import { useData } from 'vitepress'
import Btn from './Btn.vue'

const { theme } = useData()

const props = defineProps({
  baseUrl: { type: String, required: true },
  showPopularPostsSwitch: { type: Boolean, default: false },
})

const popularBaseUrl = computed(() => {
  return `${props.baseUrl}/${theme.value.popularBaseUrl}`
})
const showPopularPostsSwitch =
  props.showPopularPostsSwitch && theme.value.popularPosts?.enabled
</script>
